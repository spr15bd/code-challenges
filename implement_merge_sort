function mergeSort(array) {
  // Only change code below this line
  let initialArrayLen = array.length
  let midIdx = 0
  let arrayLength = array.length
  let finalArray = []
  let newArray = []
  let newArray1 = []
  let newArray2 = []
  console.log("merge sort on ", array)
  
    if (arrayLength % 2 === 1) {
      midIdx = (arrayLength - 1) / 2
    } else {
      midIdx = arrayLength / 2
    }
  
    let array1 = array.slice(0,midIdx)
    console.log("array1: ", array1)
    let array2 = array.slice(midIdx)
    console.log("array2: ", array2)

  if (array1.length === 1) {
    //finalArray.push(array1)
    finalArray.push(array1)
  } else {
    array1 = mergeSort(array1)
  }
  if (array2.length === 1) {
     finalArray.push(array2)
  } else {
    array2 = mergeSort(array2)
  }

  if (finalArray.length = initialArrayLen) {
    console.log("result: ", finalArray, " of length ", initialArrayLen)
    return finalArray
  }
  
  // Only change code above this line
}

function merge(array1, array2) {

  return array1[0] < array2[0]?array1.concat(array2):array2.concat(array1)
}

mergeSort([37,25,46,87,99])
